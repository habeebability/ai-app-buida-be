# AI App Builder - Environment Configuration Template
# Copy to .env and fill with your actual values - NEVER commit .env to version control

# ===== SERVER CONFIGURATION =====
NODE_ENV=development
PORT=5001
API_URL=http://localhost:5001
FRONTEND_URL=http://localhost:3000

# ===== DATABASE =====
# Use connection string WITHOUT credentials exposed - use MongoDB Atlas connection with IAM
MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority&appName=<appName>

# ===== AUTHENTICATION =====
# Generate strong secrets: openssl rand -hex 64
JWT_SECRET=your-super-secret-jwt-key-minimum-64-characters-change-this-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-super-secret-refresh-key-minimum-64-characters-change-this-in-production
JWT_REFRESH_EXPIRES_IN=7d
SESSION_SECRET=your-super-secret-session-key-minimum-64-characters-change-this-in-production
BCRYPT_ROUNDS=12

# ===== OAUTH PROVIDERS =====
# Google OAuth - Get from Google Cloud Console
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:5001/api/auth/google/callback

# GitHub OAuth - Get from GitHub Developer Settings
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:5001/api/auth/github/callback

# ===== EMAIL SERVICE =====
# Get from Resend.com dashboard
RESEND_API_KEY=your-resend-api-key
FROM_EMAIL=App Builder <noreply@yourdomain.com>

# ===== AI/LLM SERVICE =====
# Get from OpenAI platform
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000

# ===== SECURITY & RATE LIMITING =====
# Strict rate limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=50   # Reduced from 100
AUTH_RATE_LIMIT_MAX=3        # Auth attempts per window
API_RATE_LIMIT_MAX=30        # API requests per minute

# ===== FILE STORAGE =====
TEMP_DIR=./temp
MAX_FILE_SIZE=5mb            # Reduced from 10mb
CLEANUP_INTERVAL=3600000

# ===== COMPONENT REGISTRY =====
DEFAULT_COMPONENT_REPO=https://api.github.com/repos/aiappbuilder/components
COMPONENT_CACHE_TTL=3600

# ===== INTEGRATIONS =====
INTEGRATION_TIMEOUT=30000
MAX_INTEGRATIONS_PER_PROJECT=5  # Reduced from 10

# ===== QUALITY ASSURANCE =====
ESLINT_TIMEOUT=60000
TYPE_CHECK_TIMEOUT=120000
MIN_QUALITY_SCORE=70

# ===== LOGGING =====
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# ===== DEVELOPMENT FLAGS =====
MOCK_AI_RESPONSES=false
DEBUG_MODE=false
SKIP_EMAIL_VERIFICATION=false  # Changed to false for security
ALLOW_INSECURE=false          # Changed to false for security

# ===== SECURITY HEADERS =====
HELMET_CSP_ENABLED=true
CORS_CREDENTIALS=true
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict

# ===== MONITORING =====
ENABLE_SECURITY_LOGGING=true
SUSPICIOUS_LOGIN_THRESHOLD=5
ACCOUNT_LOCKOUT_DURATION=900000  # 15 minutes
